# Pull Request

Pull Request是用户修改代码后向对方仓库发送采纳请求的功能，也是GitHub的核心功能（图5.7.1）。正因为有了这个功能，才会让众多开发者轻松地加入到开源开发的队伍中来。

![5.7.1 Pull Request一览](https://res.weread.qq.com/wrepub/epub_26211801_95)

在Pull Request页面能够列表查看当前处于Open状态的Pull Request。通过点击页面左部和上部的选项可以进行筛选和重新排列。

## 获取diff格式与patch格式的文件

对长期投身于软件开发的人来说，有时可能会希望以diff格式文件和patch格式文件的形式来处理PullRequest。举个例子，假设Pull Request的URL如下所示。

https://github.com/用户名/仓库名/pull/28

如果想获取diff格式的文件，只要像下面这样在URL末尾添加．diff即可。

https://github.com/用户名/仓库名/pull/28.diff

同理，想要patch格式的文件，只需要在URL末尾添加．patch即可。

https://github.com/用户名/仓库名/pull/28.patch

想要diff格式与patch格式文件的各位请按照上述方法进行操作。

## Conversation

在Conversation标签页中，可以查看与当前PullRequest相关的所有评论以及提交的历史记录。人们在这里添加评论互相探讨，发送提交落实讨论内容的整个过程会按时间顺序列出，供用户查看。各位在查看过程中如果有自己的想法，不妨积极地添加评论参与探讨。

提交日志的右侧有该提交的哈希值，点击链接即可确认相应提交的详细信息。

### 引用评论

在Conversation中人们通过添加评论进行对话。这里有一个简单方法可以帮您引用某个人的评论。选中想引用的评论然后按R键，被选择的部分就会自动以评论语法写入评论文本框。

这样一来就可以轻松便捷地引用评论了。该快捷键在Issue中同样有效。

## Commits

在Commits标签页中，按时间顺序列表显示了与当前Pull Request相关的提交（图5.7.2）。标签上的数字为提交的次数。每个提交右侧的哈希值可以连接到该提交的代码。

![图5.7.2](https://res.weread.qq.com/wrepub/epub_26211801_98)

### 在评论中应用表情

GitHub的文化中有使用表情的习惯。表情种类繁多，要一次全记下来十分困难。这时我们可以利用表情的自动补全功能[插图]。在评论中输入“:”（冒号）便会启动表情自动补全功能。只要输入几个与该表情相关的字母，系统就会为您筛选自动补全的对象(图5.7.3)。选择想要的表情，其相应代码（前后都有冒号的字符串）便会插入到文本框中。

![图5.7.3](https://res.weread.qq.com/wrepub/epub_26211801_100)

## Files Changed

Files Changed标签页中可以查看当前Pull Request更改的文件内容以及前后差别。标签上的数字表示新建及被更改的文件数。默认情况下系统会将空格的不同也高亮显示，所以在空格有改动的情况下会难以阅读。这时只要在URL的末尾添加“? w=1”就可以不显示空格的差别。将鼠标指针放到被更改行行号的左侧，我们会看到一个加号。点击这个加号可以在代码中插入评论。这样，评论是针对哪行代码的就一目了然了。

这个插入评论的功能让针对代码的讨论变得十分顺畅。特别是在多人协作的软件开发中，这个功能更加不可或缺。
